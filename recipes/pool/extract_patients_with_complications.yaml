# 레시피 고유 이름
name: extract_patients_with_complications

# 레시피 설명
description: "주 질환과 합병증을 모두 가진 환자를 추출하여 중증도 기반 코호트를 구성합니다."

# 카테고리
category: "pool"

# 검색용 태그
tags:
  - "합병증"
  - "중증도별"
  - "complications"
  - "severity based"

# SQL 템플릿에 사용된 파라미터 목록
parameters:
  - name: "main_disease_keyword"
    type: "string"
    description: "주 질환 키워드 (예: 당뇨)"
    required: true
  - name: "complication_keywords"
    type: "string"
    description: "합병증 키워드 (여러개는 |로 구분, 예: 신증|망막|신경병)"
    required: true
  - name: "start_date"
    type: "date"
    description: "진료 이력 조회 시작일 (YYYY-MM-DD)"
    required: true
  - name: "min_main_visits"
    type: "integer"
    description: "주 질환 최소 방문 횟수 (예: 1)"
    required: true
    default: 1
  - name: "min_complication_visits"
    type: "integer"
    description: "합병증 최소 방문 횟수 (예: 1)"
    required: true
    default: 1

# 시각화 정보
visualization:
  chart_type: "table"
  title: "합병증 보유 환자 리스트"